 
package org.jmedikit.plugin.gui.handlers;

import javax.inject.Inject;

import org.eclipse.e4.core.di.annotations.Execute;
import org.eclipse.e4.ui.model.application.MApplication;
import org.eclipse.e4.ui.model.application.ui.basic.MPart;
import org.eclipse.e4.ui.model.application.ui.basic.impl.PartImpl;
import org.eclipse.e4.ui.model.application.ui.menu.MToolControl;
import org.eclipse.e4.ui.workbench.modeling.EModelService;
import org.jmedikit.lib.core.DicomObject;
import org.jmedikit.plugin.gui.ImageViewPart;

public class ToolDicomTagsHandler {
	
	@Inject
	EModelService service;
	
	@Inject
	MApplication app;
	
	@Execute
	public void execute() {
		//MPart toolcontrol = (MPart) service.find("org.jmedikit.plugin.imageview", app);
		//ImageViewPart ivp = (ImageViewPart) toolcontrol.getObject();
		
		try {
			DicomObject obj = ImageViewPart.getActiveImageViewComposite().getCurrentDicomObject();
			System.out.println(obj.getUid());
		} catch (Exception e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}
		
}