package org.jmedikit.lib.core;

import java.util.ArrayList;

import org.jmedikit.lib.io.DicomData;

public class DicomTreeRepository {
	
	DicomTreeItem root;
	
	public DicomTreeRepository(){
		root = new DicomTreeItem("/") {
		};
	}
	
	
	public insertDicomTreeItem(DicomTreeItem item){
		
	}
	/*public void insertDicomObject(DicomObject obj){
		String name = (String) obj.getTagData("PatientName", DicomData.RETURN_STRING);
		String studyId = (String) obj.getTagData("StudyInstanceUID", DicomData.RETURN_STRING);
		String seriesId = (String) obj.getTagData("SeriesInstanceUID", DicomData.RETURN_STRING);
		
		DicomSeries singleSeries = new DicomSeries(seriesId);
		DicomStudy study = new DicomStudy(studyId);
		DicomPatient p = new DicomPatient(name);
		
		if(!root.contains(p)){
			root.add(p);
		}
		
		//System.out.println(name+", "+studyId+", "+seriesId);
		
		for(DicomPatient patient : root){
			ArrayList<DicomStudy> std = patient.getDicomStudies();
			//System.out.println(f.getPath()+"  "+std.toString()+", "+patient.getPatientName());
			if(!std.contains(study) && (patient.getPatientName().equals(p.getPatientName()))){
				patient.addDicomStudy(study);
			}
			for(DicomStudy dcmstudy : std){
				ArrayList<DicomSeries> srs = dcmstudy.getDicomSeries();
				if(!srs.contains(singleSeries) && (dcmstudy.getStudyInstanceUid().equals(study.getStudyInstanceUid()))){
					dcmstudy.addDicomSeries(singleSeries);
				}
				for(DicomSeries dcmsrs : srs){
					ArrayList<DicomObject> dcmobjs = dcmsrs.getDicomObjects();
					if(!dcmobjs.contains(obj) && dcmsrs.getSeriesInstanceUid().equals(singleSeries.getSeriesInstanceUid())){
						dcmsrs.addDicomObject(obj);
					}
				}
			}
		}
	}*/
}
